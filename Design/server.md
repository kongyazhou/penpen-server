# 服务器端设计

主要服务：

- 在线监听
- 消息处理器(对方在线则由监听程序发送消息，不在线则保存离线消息，由极光推送消息)
- 发送广播
- 用户注册*(样品不可以注册)
- 修改个性签名、头像等个人信息

## 在线监听

login时注册在线状态并存储PID。

## 用户系统

1. 登陆时，同步一次所有联系人，包括签名、账号、部门、职位、姓名，并存入user表中

然后检查头像文件，若缺少则下载缺失的头像

2. 查看联系人详细资料，以及进入聊天时，更新一次该联系人头像和签名

更新头像直接上传upload即可。
